import 'dart:convert';import 'package:schat_server/schat_server.dart';import 'package:http/http.dart' as http; // Must include http package in your pubspec.yaml  void main() {    const clientID = "com.yqige.schat";    const body = "username=bob&password=password&grant_type=password";    const username = "bob";    const password = "password";// Note the trailing colon (:) after the clientID.// A client identifier secret would follow this, but there is no secret, so it is the empty string.    final clientCredentials = Base64Encoder().convert("$clientID:".codeUnits);    final userCredentials = Base64Encoder().convert("$username:$password".codeUnits);// {"access_token":"MfAUgMmYwSP03YG63NAtb45NN33DmQYZ","token_type":"bearer","expires_in":86399}//    http.post(//        "http://localhost:8888/auth/token",//        headers: {//          "Content-Type": "application/x-www-form-urlencoded",//          "Authorization": "Basic $clientCredentials"//        },//        body: body).then((response){//          print(response.body);//    });//    http.post(//        "http://localhost:8888/register",//        headers: {//          "Content-Type": "application/json",//          "Authorization": "Basic $userCredentials"//        },//        body: jsonEncode({"username":"bob", "password":"password"})).then((response){//          print(response.body);//    });//    http.post(//        "http://localhost:8888/users",//        headers: {//          "Authorization": "Bearer MfAUgMmYwSP03YG63NAtb45NN33DmQYZ"//        }).then((response){//          print(response.body);//          print(response.headers);//          print(response.statusCode);//    });    socketClient(userCredentials);  }void socketClient(String userCredentials) async{//客户端连接到服务端  WebSocket client = await WebSocket.connect('ws://localhost:8888/connect',        headers: {          "Content-Type": "application/json",          "Authorization": "Bearer MfAUgMmYwSP03YG63NAtb45NN33DmQYZ"        });//客户端接收消息  client.listen((msg){    print('客户端收到消息！');    print(msg);  });//客户端发送消息  client.add('Hello World!');}